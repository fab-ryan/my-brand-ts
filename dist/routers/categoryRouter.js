"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const controllers_1 = require("../controllers");
const middlewares_1 = require("../middlewares");
const schemas_1 = require("../schemas");
const types_1 = require("../types");
const categoryRouter = (0, express_1.Router)();
categoryRouter.get('/categories', (0, middlewares_1.validate)(schemas_1.categoryQuerySchema, types_1.requestType['query']), controllers_1.getCategories);
categoryRouter.get('/categories/:id', controllers_1.getCategory);
categoryRouter.post('/categories', middlewares_1.isAuthenticated, middlewares_1.isAdmin, (0, middlewares_1.validate)(schemas_1.categorySchema, types_1.requestType['body']), controllers_1.createCategory);
categoryRouter.put('/categories/:id', middlewares_1.isAuthenticated, middlewares_1.isAdmin, (0, middlewares_1.validate)(schemas_1.categorySchema, types_1.requestType['body']), controllers_1.updateCategory);
categoryRouter.patch('/categories/:id', middlewares_1.isAuthenticated, middlewares_1.isAdmin, controllers_1.changeCategoryStatus);
exports.default = categoryRouter;
