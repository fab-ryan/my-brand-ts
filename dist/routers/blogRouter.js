"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const controllers_1 = require("../controllers");
const middlewares_1 = require("../middlewares");
const schemas_1 = require("../schemas");
const types_1 = require("../types");
const router = (0, express_1.Router)();
router.get('/blogs', new controllers_1.BlogController().getActiveBlogs);
router.post('/blogs', middlewares_1.isAuthenticated, middlewares_1.isAdmin, middlewares_1.multerUploads.single('image'), (0, middlewares_1.validate)(schemas_1.blogSchema, types_1.requestType.body), new controllers_1.BlogController().createBlog);
router.put('/blogs/:slug', new controllers_1.BlogController().changeStatus);
router.delete('/blogs/:slug', new controllers_1.BlogController().deleteBlog);
router.get('/blogs/:slug', new controllers_1.BlogController().getBlog);
router.patch('/blogs/:slug', middlewares_1.isAuthenticated, middlewares_1.isAdmin, middlewares_1.multerUploads.single('image'), (0, middlewares_1.validate)(schemas_1.blogSchema, types_1.requestType.body), new controllers_1.BlogController().updateBlog);
router.get('/admin/blogs/', middlewares_1.isAuthenticated, middlewares_1.isAdmin, new controllers_1.BlogController().getBlogs);
exports.default = router;
